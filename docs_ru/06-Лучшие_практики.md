# Лучшие практики

В данном разделе представлены рекомендации по эффективному использованию GSConfig и организации работы с игровыми конфигами.

## Организация документов

1. **Логическое разделение** - разделяйте данные на разные документы по логическим группам:
   - Таблицы с балансом игры
   - Настройки персонажей и мобов
   - Конфигурации уровней
   - Предметы и экономика
   - Локализация и тексты

2. **Документация** - создавайте отдельные страницы или документы с описанием структур данных:
   - Добавляйте комментарии к сложным полям
   - Описывайте зависимости между таблицами
   - Документируйте изменения в структуре данных

3. **Права доступа** - настраивайте права доступа соответственно ролям команды:
   - Разработчики - полный доступ
   - Дизайнеры - доступ к балансу и настройкам геймплея
   - QA - доступ на чтение для тестирования

## Именование страниц

1. **Используйте расширения** для обозначения формата:
   - `mobs.json` - данные будут парситься в JSON
   - `translations.csv` - данные будут обрабатываться как CSV
   - `debug.raw` - данные будут возвращены без обработки

2. **Префиксы для служебных страниц**:
   - Начинайте с `#` или `.` для служебных страниц, которые не нужно экспортировать
   - Например: `#calculation`, `.notes`, `#temp`

3. **Ясные и последовательные имена**:
   - Используйте единый стиль именования (например, camelCase или snake_case)
   - Добавляйте префиксы для группировки связанных страниц
   - Используйте суффиксы для обозначения варианта данных

## Структура данных

1. **Схемы данных**:
   - Для простых пар ключ-значение используйте схему `('key', 'data')`
   - Для данных с вариантами используйте схему с несколькими столбцами данных
   - Для таблиц с множеством записей используйте свободный формат с заголовками

2. **Промежуточный формат**:
   - Используйте версию парсера v1 для совместимости со старым кодом
   - Используйте версию v2 для новых проектов с более естественной обработкой словарей
   - Избегайте излишне сложных вложенных структур
   - Используйте команды `!list`, `!dlist` для явного управления форматом

3. **Шаблоны**:
   - Создавайте отдельные шаблоны для разных типов сущностей
   - Используйте условные блоки `{% if %}` для опциональных данных
   - Применяйте циклы `{% foreach %}` для генерации повторяющихся элементов
   - Фиксируйте типы данных командами `!float`, `!int` и т.д.

## Советы по производительности

1. **Кэширование**:
   - GSConfig автоматически кэширует данные страниц после первого запроса
   - Для повторной загрузки данных создайте новый объект Page или GameConfigLite

2. **Организация данных**:
   - Разделяйте большие таблицы на логические группы
   - Используйте связанные таблицы вместо дублирования данных
   - Создавайте вспомогательные таблицы для расчетов и проверок

3. **Оптимизация шаблонов**:
   - Используйте `jsonify=True` в шаблонах, чтобы получить структуры Python вместо строк
   - Для больших объемов данных разделяйте шаблоны на меньшие части

4. **Работа с большими таблицами**:
   - Используйте `Page.set_schema()` для извлечения только нужных столбцов
   - Применяйте фильтрацию данных на стороне Python вместо загрузки всей таблицы
   - Для очень больших таблиц рассмотрите возможность их разделения на несколько страниц
